import { AlertType, SignalType, LogicMode } from '@prisma/client';
import { IndicatorConfig } from '../../services/technicalIndicators.service.js';
export interface CreateAlertDto {
    symbol: string;
    alertType: AlertType;
    condition: string;
    triggerType?: 'ONE_TIME' | 'RECURRING';
    name?: string;
    signalType?: SignalType;
    logicMode?: LogicMode;
    indicatorConfig?: IndicatorConfig;
    timeframe?: string;
    enableBuySignal?: boolean;
    enableSellSignal?: boolean;
    buyIndicatorConfig?: IndicatorConfig;
    sellIndicatorConfig?: IndicatorConfig;
    buyLogicMode?: LogicMode;
    sellLogicMode?: LogicMode;
}
export interface UpdateAlertDto {
    condition?: string;
    triggerType?: 'ONE_TIME' | 'RECURRING';
    name?: string;
    signalType?: SignalType;
    logicMode?: LogicMode;
    indicatorConfig?: IndicatorConfig;
    timeframe?: string;
    enableBuySignal?: boolean;
    enableSellSignal?: boolean;
    buyIndicatorConfig?: IndicatorConfig;
    sellIndicatorConfig?: IndicatorConfig;
    buyLogicMode?: LogicMode;
    sellLogicMode?: LogicMode;
}
export declare class AlertsService {
    static createAlert(userId: string, data: CreateAlertDto): Promise<{
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }>;
    static getUserAlerts(userId: string, includeTriggered?: boolean): Promise<{
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }[]>;
    static getAlertById(userId: string, alertId: string): Promise<{
        history: {
            id: string;
            createdAt: Date;
            condition: string;
            triggeredAt: Date;
            price: import("@prisma/client/runtime/library.js").Decimal;
            alertId: string;
        }[];
    } & {
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }>;
    static deleteAlert(userId: string, alertId: string): Promise<{
        message: string;
    }>;
    static updateAlert(userId: string, alertId: string, data: UpdateAlertDto): Promise<{
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }>;
    static toggleAlertActive(userId: string, alertId: string): Promise<{
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }>;
    static getAlertHistory(userId: string, alertId: string): Promise<{
        id: string;
        createdAt: Date;
        condition: string;
        triggeredAt: Date;
        price: import("@prisma/client/runtime/library.js").Decimal;
        alertId: string;
    }[]>;
    static triggerAlert(alertId: string, currentPrice?: number): Promise<{
        symbol: string;
        name: string | null;
        id: string;
        isActive: boolean;
        createdAt: Date;
        updatedAt: Date;
        userId: string;
        alertType: import(".prisma/client").$Enums.AlertType;
        condition: string;
        triggered: boolean;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        triggerCount: number;
        lastTriggeredAt: Date | null;
        triggeredPrice: import("@prisma/client/runtime/library.js").Decimal | null;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        logicMode: import(".prisma/client").$Enums.LogicMode | null;
        indicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        enableBuySignal: boolean | null;
        enableSellSignal: boolean | null;
        buyIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        sellIndicatorConfig: import("@prisma/client/runtime/library.js").JsonValue | null;
        buyLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        sellLogicMode: import(".prisma/client").$Enums.LogicMode | null;
        timeframe: string | null;
        triggeredAt: Date | null;
    }>;
    static checkAlerts(symbol: string, currentPrice: number): Promise<{
        alertId: string;
        userId: string;
        symbol: string;
        condition: string;
        currentPrice: number;
        triggerType: import(".prisma/client").$Enums.TriggerType;
        signalType: import(".prisma/client").$Enums.SignalType | null;
        message: string;
        name: string | null;
    }[]>;
    private static evaluateCondition;
}
//# sourceMappingURL=alerts.service.d.ts.map